{
  "entities": {
    "Country": {
      "title": "Country",
      "type": "object",
      "description": "Represents a country with its code regulations.",
      "properties": {
        "label": {
          "type": "string",
          "description": "The display name of the country."
        },
        "value": {
          "type": "string",
          "description": "The unique identifier for the country (e.g., 'nigeria')."
        }
      },
      "required": ["label", "value"]
    },
    "CodeSection": {
      "title": "Code Section",
      "type": "object",
      "description": "A section or chapter within a country's building code.",
      "properties": {
        "title": {
          "type": "string",
          "description": "The title of the code section."
        },
        "summary": {
          "type": "string",
          "description": "A brief summary of the section's content."
        }
      },
      "required": ["title", "summary"]
    },
    "CodeArticle": {
      "title": "Code Article",
      "type": "object",
      "description": "A specific article or clause within a code section.",
      "properties": {
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "requirements": {
          "type": "array",
          "items": { "type": "string" }
        },
        "references": {
          "type": "array",
          "items": { "type": "string" }
        },
        "keywords": {
          "type": "array",
          "items": { "type": "string" }
        }
      },
      "required": ["title", "description"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/countries/{countryId}": {
      "schema": { "$ref": "#/entities/Country" },
      "description": "Collection of countries."
    },
    "/countries/{countryId}/sections/{sectionId}": {
      "schema": { "$ref": "#/entities/CodeSection" },
      "description": "Collection of code sections for a specific country."
    },
    "/countries/{countryId}/sections/{sectionId}/articles/{articleId}": {
      "schema": { "$ref": "#/entities/CodeArticle" },
      "description": "Collection of code articles for a specific section."
    }
  }
}
