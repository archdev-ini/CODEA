{
  "entities": {
    "Precedent": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Precedent",
      "type": "object",
      "description": "Represents an architectural precedent stored in the CODEA library.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Precedent entity."
        },
        "title": {
          "type": "string",
          "description": "Title of the architectural precedent."
        },
        "architect": {
          "type": "string",
          "description": "Name of the architect or firm responsible for the precedent."
        },
        "location": {
          "type": "string",
          "description": "Geographic location of the architectural precedent."
        },
        "year": {
          "type": "number",
          "description": "Year the architectural precedent was completed."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the architectural precedent."
        },
        "tags": {
          "type": "array",
          "description": "Tags associated with the architectural precedent.",
          "items": {
            "type": "string"
          }
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of an image representing the architectural precedent.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "title",
        "architect",
        "location",
        "year",
        "description",
        "tags",
        "imageUrl"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/precedents/{precedentId}",
        "definition": {
          "entityName": "Precedent",
          "schema": {
            "$ref": "#/backend/entities/Precedent"
          },
          "description": "Collection of architectural precedents.  Each document represents a single architectural precedent.",
          "params": [
            {
              "name": "precedentId",
              "description": "The unique identifier for the precedent."
            }
          ]
        }
      }
    ],
    "reasoning": "The data structure prioritizes ease of querying and security. The `precedents` collection stores architectural precedent data. This flattens the structure to enable simple queries and avoid complex security rules based on hierarchy.  This structure supports the QAP by enabling straightforward listing of precedents based on different criteria without requiring filtering in the rules. Since there are no user specific data or roles, this structure assumes open access to the data."
  }
}