{
  "entities": {
    "Jurisdiction": {
      "title": "Jurisdiction",
      "description": "Represents a geographical or political entity with its own set of building codes (e.g., Country, State, City).",
      "type": "object",
      "properties": {
        "name": { "type": "string", "description": "Official name of the jurisdiction (e.g., 'Nigeria', 'Lagos State')." },
        "level": { "type": "string", "enum": ["CONTINENTAL", "REGIONAL", "NATIONAL", "STATE_PROVINCIAL", "CITY_MUNICIPAL", "INDIGENOUS"], "description": "The hierarchical level of the jurisdiction." },
        "parent": { "type": "string", "description": "Reference to the parent jurisdiction's ID, if any." }
      },
      "required": ["name", "level"]
    },
    "CodeArticle": {
      "title": "Code Article",
      "type": "object",
      "description": "A specific article, clause, or regulation within a building code.",
      "properties": {
        "codeId": { "type": "string", "description": "Unique identifier (e.g., CDA-BC-NG-LAG-2025)." },
        "jurisdictionId": { "type": "string", "description": "ID of the governing jurisdiction." },
        "codeName": { "type": "string", "description": "Official name of the code document." },
        "issuingBody": { "type": "string", "description": "Ministry or agency responsible." },
        "version": { "type": "string", "description": "Year of adoption or revision." },
        "status": { "type": "string", "enum": ["ACTIVE", "DRAFT", "OUTDATED"], "description": "Current status of the code." },
        "coverage": { "type": "array", "items": { "type": "string" }, "description": "Areas covered (e.g., Structural, Fire, Accessibility)." },
        "language": { "type": "string", "default": "English" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "requirements": { "type": "array", "items": { "type": "string" } },
        "source": { "type": "string", "description": "URL or document reference." },
        "keywords": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["codeId", "jurisdictionId", "codeName", "title", "description"]
    },
    "CommunityInsight": {
      "title": "Community Insight",
      "type": "object",
      "description": "A contribution from a community member, such as a field note, observation, or case study.",
      "properties": {
        "jurisdictionId": { "type": "string", "description": "The ID of the jurisdiction this insight relates to." },
        "section": { "type": "string", "description": "The relevant code section (e.g., 'fire-safety')." },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "references": { "type": "string", "description": "Source citations or URLs." },
        "tags": { "type": "array", "items": { "type": "string" } },
        "contributorName": { "type": "string" },
        "contributorEmail": { "type": "string", "format": "email" },
        "createdAt": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["PENDING", "APPROVED", "REJECTED"], "default": "PENDING" }
      },
      "required": ["jurisdictionId", "section", "title", "description", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/jurisdictions/{jurisdictionId}": {
      "schema": { "$ref": "#/entities/Jurisdiction" },
      "description": "Collection of all jurisdictions at various levels."
    },
    "/articles/{articleId}": {
      "schema": { "$ref": "#/entities/CodeArticle" },
      "description": "Master collection of all code articles, linked to jurisdictions."
    },
    "/insights/{insightId}": {
      "schema": { "$ref": "#/entities/CommunityInsight" },
      "description": "Collection of community-submitted insights and observations."
    }
  }
}